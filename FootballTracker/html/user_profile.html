{% extends 'base.html' %}

{% block content %}
<h2>{{ user_profile.first_name }} {{ user_profile.last_name }}'s Profile</h2>
<p><strong>Email:</strong> {{ user_profile.email }}</p>
<p><strong>Role:</strong> {{ user_profile.get_role_display }}</p>

{% if user_profile.role == 'player' %}
    <p><strong>Team:</strong> {{ user_profile.playerprofile.team }}</p>
    <p><strong>Position:</strong> {{ user_profile.playerprofile.position }}</p>
    <p><strong>Height:</strong> {{ user_profile.playerprofile.height }} cm</p>
    <p><strong>Looking for Team:</strong> {{ user_profile.playerprofile.looking_for_team }}</p>
{% elif user_profile.role == 'coach' %}
    <p><strong>Team:</strong> {{ user_profile.coach.team }}</p>
    <p><strong>Qualifications:</strong> {{ user_profile.coach.qualifications }}</p>
{% elif user_profile.role == 'manager' %}
    <p><strong>Team:</strong> {{ user_profile.manager.team }}</p>
    <p><strong>Experience:</strong> {{ user_profile.manager.experience }}</p>
{% endif %}

<h3>Posts</h3>
{% for post in posts %}
    <div class="post">
        <p>{{ post.content }}</p>
        {% if post.image %}
            <img src="{{ post.image.url }}" alt="Post image" style="max-width: 100%; height: auto;">
        {% endif %}
    </div>
{% empty %}
    <p>No posts yet.</p>
{% endfor %}

<form method="post">
    {% csrf_token %}
    {% if is_following %}
        <button type="submit" name="unfollow">Unfollow</button>
    {% else %}
        <button type="submit" name="follow">Follow</button>
    {% endif %}
</form>
{% endblock %}
